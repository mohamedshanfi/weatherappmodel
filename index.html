<!-- https://api.openweathermap.org/data/2.5/weather?q={city name}&appid={API key} -->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Weather App</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
<link rel="stylesheet" href="./style.css">
</head>
<body>
    <div class="container">
        <div class="row">
            <div class="col-md-1"></div>
            <div class="col-md-10">
                <h1>Weather App</h1>
                <div class="d-flex">
                    <input id="splace" type="text" placeholder="Enter the place here" class="form-control">
                    <input onclick="search()" type="button" class="btn btn-success ms-3" value="Search">
                </div>
                <div>
                    <div class="row mt-5">
                        <div class="col-md-4">
                            <p class="mb-5" >Country : <span id="country">--</span></p>
                            <p class="mb-5" >Place : <span id="place">--</span> </p>
                            <p >Time Zone : <span id="timezones">--</span></p><br>
                            <!-- <p class="text-end mt-5">Min Temp : <span>--</span></p> -->
                        </div>
                        <div class="col-md-4">
                            <p>Clouds : <span id="clouds">--</span></p>
                           <div id="imge"> <video autoplay loop class="text-center" style="width: 150px; height: 150px;" src="https://cdn-icons-mp4.flaticon.com/512/12320/12320221.mp4" alt=""></div>
                           <!-- <p class="text-center">Temp : <span>--</span></p> -->
                        </div>
                        <div class="col-md-4">
                            <p class="mb-5">Humidity : <span id="humidity">--</span></p>
                            <p class="mb-5">Wind : <span id="winds">--</span> </p>
                            <p>Pressure : <span id="pressures">--</span></p>
                            <!-- <p>Max Temp : <span>--</span></p> -->
                        </div>
                    </div>
                    <div class="d-flex ">
                        <div  class="col-md-4"><p>Min Temp : <span id="mintemp">--</span></p></div>
                        <div class="col-md-4 "><p>Temp : <span id="avgtemp">--</span></p></div>
                        <div class="col-md-4 ms-3"><p>Max Temp : <span id="maxtemp">--</span></p></div>
                    </div>
                </div>
            </div>
            <div class="col-md-1"></div>
        </div>
    </div>
    
</body>
<script>
    const apiKey = "9bb5434535a3810674f36271cca43f9a";
    const apiUrl = "https://api.openweathermap.org/data/2.5/weather?units=metric&q=kerrala";

    function search(){
        let city = splace.value
        console.log(city);
        fetch(`https://api.openweathermap.org/data/2.5/weather?q=${city}&appid=${apiKey}`)
        .then((res)=>{console.log(res.json().then((data)=>{
            console.log(data);

            var timezone = new Date(data.sys.sunrise + data.timezone*1000)
            hours= timezone.getHours()
            console.log(hours);
            minute = timezone.getMinutes()
            console.log(minute);



            country.innerHTML = data.sys.country
            place.innerHTML = data.name
            timezones.innerHTML = `${hours} : ${minute}`
            clouds.innerHTML = data.weather[0].main
            humidity.innerHTML = data.main.humidity
            winds.innerHTML = data.wind.speed
            pressures.innerHTML = data.main.pressure
            mintemp.innerHTML = data.main.temp_min
            maxtemp.innerHTML = data.main.temp_max
            avgtemp.innerHTML = data.main.temp


            if(data.weather[0].main == 'Clear'){
                imge.innerHTML = '<video autoplay loop src="https://cdn-icons-mp4.flaticon.com/512/6455/6455017.mp4" width="150px" height="150px">'}
                else if(data.weather[0].main == 'Clouds'){
                    imge.innerHTML = '<video autoplay loop src="https://cdn-icons-mp4.flaticon.com/512/6455/6455024.mp4" width="150px" height="150px">'}
                    else if(data.weather[0].main == 'Rain'){
                    imge.innerHTML = '<video autoplay loop src="https://cdn-icons-mp4.flaticon.com/512/6455/6455055.mp4" width="150px" height="150px">'}
                    else if(data.weather[0].main == 'Mist'){
                    imge.innerHTML = '<video autoplay loop src="https://cdn-icons-mp4.flaticon.com/512/6454/6454995.mp4" width="150px" height="150px">'}
                    else if(data.weather[0].main == 'Snow'){
                    imge.innerHTML = '<video autoplay loop src="https://cdn-icons-mp4.flaticon.com/512/6455/6455058.mp4" width="150px" height="150px">'} 
                    else if(data.weather[0].main == 'Haze'){
                    imge.innerHTML = '<video autoplay loop src="https://cdn-icons-mp4.flaticon.com/512/6455/6455012.mp4" width="150px" height="150px">'}     
               
        }));})
        .catch((err)=>{console.log(err);})
    }
</script>
</html>


<!-- https://mir-s3-cdn-cf.behance.net/project_modules/disp/8f342f30971807.563b2b138deaa.gif -->

<!-- https://mir-s3-cdn-cf.behance.net/project_modules/disp/c6023f30971807.563b2b13a55cc.gif -->

<!-- https://mir-s3-cdn-cf.behance.net/project_modules/disp/01d9bc30971807.563b2b13c384b.gif -->

<!-- https://mir-s3-cdn-cf.behance.net/project_modules/disp/c48be530971807.563b2b13efcae.gif -->

<!-- https://media1.giphy.com/media/Srttshwoq4daPsneux/source.gif -->